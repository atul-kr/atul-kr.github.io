<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8" />
	<title>Uncowlify</title>

	<link type="text/css" rel="stylesheet" href="design.css">
	
	<script src="http://code.jquery.com/jquery-2.1.0.min.js"></script>
	<script src="velocity.js"></script>

	<script type="text/javascript">

		$.get('uncowlify.svg', function(data) {
// get the svg file and append to body

$(document.body).append(data.documentElement);

//define global array and booleanSwitches

//indexswitches
var upSwWater = 0;
var upSwFeed = 0;
var upSwProtein = 0;
var upSwNitro = 0;
var upSwPhos = 0;
var upSwCo2 = 0;
var upSwCh4 = 0;
var upSwN2o = 0;
var upSwMass = 0;
var upSwPopu = 0;

var downSwWater = 0;
var downSwFeed = 0;
var downSwProtein = 0;
var downSwNitro = 0;
var downSwPhos = 0;
var downSwCo2 = 0;
var downSwCh4 = 0;
var downSwN2o = 0;
var downSwMass = 0;
var downSwPopu = 0;


//graph switches
var firstHoverUp = 0;
var firstHoverDown = 0;

//global array
var MainArray = [];

var waterArray = ["AWater", "BWater", "CWater", "DWater"];
var feedArray = ["AFeed", "BFeed", "CFeed", "DFeed"];
var ch4Array = ["ACh4", "BCh4", "CCh4", "DCh4"];
var co2Array = ["ACo2", "BCo2", "CCo2", "DCo2"];
var n2oArray = ["AN2o", "BN2o", "CN2o", "DN2o"];
var massArray = ["AMass", "BMass", "CMass", "DMass"];
var popuArray = ["APopu", "BPopu", "CPopu", "DPopu"];
var nitroArray = ["ANitro", "BNitro", "CNitro", "DNitro"];
var phosArray = ["APhos", "BPhos", "CPhos", "DPhos"];
var proteinArray = ["AProtein", "BProtein", "CProtein", "DProtein"];

var waterValidationArray = ["AWater", "BWater", "CWater", "DWater", "wWater1", "wWater2"];
var ch4ValidationArray = ["ACh4", "BCh4", "CCh4", "DCh4", "wCh41", "wCh42"];

function clearUp(){

	$('#cWater').velocity({'opacity': '0.5'});
	$('#cFeed').velocity({'opacity': '0.5'});
	$('#cProtein').velocity({'opacity': '0.5'});
	$('#cNitro').velocity({'opacity': '0.5'});
	$('#cPhos').velocity({'opacity': '0.5'});
	$('#cCo2').velocity({'opacity': '0.5'});
	$('#cCh4').velocity({'opacity': '0.5'});
	$('#cN2o').velocity({'opacity': '0.5'});
	$('#cMass').velocity({'opacity': '0.5'});
	$('#cPopu').velocity({'opacity': '0.5'});
	$('#fWater').velocity({'opacity': '0.5'});
	$('#fFeed').velocity({'opacity': '0.5'});
	$('#fProtein').velocity({'opacity': '0.5'});
	$('#fNitro').velocity({'opacity': '0.5'});
	$('#fPhos').velocity({'opacity': '0.5'});
	$('#fCo2').velocity({'opacity': '0.5'});
	$('#fCh4').velocity({'opacity': '0.5'});
	$('#fN2o').velocity({'opacity': '0.5'});
	$('#fMass').velocity({'opacity': '0.5'});
	$('#fPopu').velocity({'opacity': '0.5'});
}

function clearDown(){

	$('#Awater').velocity({'opacity': '0.5'});
	$('#AFeed').velocity({'opacity': '0.5'});
	$('#AProtein').velocity({'opacity': '0.5'});
	$('#ANitro').velocity({'opacity': '0.5'});
	$('#APhos').velocity({'opacity': '0.5'});
	$('#ACo2').velocity({'opacity': '0.5'});
	$('#ACh4').velocity({'opacity': '0.5'});
	$('#AN2o').velocity({'opacity': '0.5'});
	$('#AMass').velocity({'opacity': '0.5'});
	$('#APopu').velocity({'opacity': '0.5'});
	$('#Bwater').velocity({'opacity': '0.5'});
	$('#BFeed').velocity({'opacity': '0.5'});
	$('#BProtein').velocity({'opacity': '0.5'});
	$('#BNitro').velocity({'opacity': '0.5'});
	$('#BPhos').velocity({'opacity': '0.5'});
	$('#BCo2').velocity({'opacity': '0.5'});
	$('#BCh4').velocity({'opacity': '0.5'});
	$('#BN2o').velocity({'opacity': '0.5'});
	$('#BMass').velocity({'opacity': '0.5'});
	$('#BPopu').velocity({'opacity': '0.5'});
	$('#Cwater').velocity({'opacity': '0.5'});
	$('#CFeed').velocity({'opacity': '0.5'});
	$('#CProtein').velocity({'opacity': '0.5'});
	$('#CNitro').velocity({'opacity': '0.5'});
	$('#CPhos').velocity({'opacity': '0.5'});
	$('#CCo2').velocity({'opacity': '0.5'});
	$('#CCh4').velocity({'opacity': '0.5'});
	$('#CN2o').velocity({'opacity': '0.5'});
	$('#CMass').velocity({'opacity': '0.5'});
	$('#CPopu').velocity({'opacity': '0.5'});
	$('#Dwater').velocity({'opacity': '0.5'});
	$('#DFeed').velocity({'opacity': '0.5'});
	$('#DProtein').velocity({'opacity': '0.5'});
	$('#DNitro').velocity({'opacity': '0.5'});
	$('#DPhos').velocity({'opacity': '0.5'});
	$('#DCo2').velocity({'opacity': '0.5'});
	$('#DCh4').velocity({'opacity': '0.5'});
	$('#DN2o').velocity({'opacity': '0.5'});
	$('#DMass').velocity({'opacity': '0.5'});
	$('#DPopu').velocity({'opacity': '0.5'});
	$('#wWater1').velocity({'opacity': '0.5'});
	$('#wWater2').velocity({'opacity': '0.5'});
	$('#wFeed').velocity({'opacity': '0.5'});
	$('#wProtein').velocity({'opacity': '0.5'});
	$('#wNitro').velocity({'opacity': '0.5'});
	$('#wPhos').velocity({'opacity': '0.5'});
	$('#wCo2').velocity({'opacity': '0.5'});
	$('#wCh41').velocity({'opacity': '0.5'});
	$('#wCh42').velocity({'opacity': '0.5'});
	$('#wN2o').velocity({'opacity': '0.5'});
	$('#wMass').velocity({'opacity': '0.5'});
	$('#wPopu').velocity({'opacity': '0.5'});

}

function clickTurnOnLowerGraph(str){
	//str value is passed during lower graph index click event. if clicked on water or feed, str is passed as 'water' or 'feed'
	//function to turn on all four attribute types at once in the lower graph after clicking
	$('#A' + str).velocity({'opacity': '1'});
	$('#B' + str).velocity({'opacity': '1'});
	$('#C' + str).velocity({'opacity': '1'});
	$('#D' + str).velocity({'opacity': '1'});

}

function clickTurnOffLowerGraph(str){

	$('#A' + str).velocity({'opacity': '0.5'});
	$('#B' + str).velocity({'opacity': '0.5'});
	$('#C' + str).velocity({'opacity': '0.5'});
	$('#D' + str).velocity({'opacity': '0.5'});

}


////////////---------ALL CLICK EVENTS------------/////////////

//No Click Events defines



////////////////--------END OF CLICK EVENTS---------------///////////
////////////////----------!---HOVER TOOL-TIP---!----------///////////



////////////------!KEY LOGIC OF EVENT HOVER!-----------//////////

$(function() {

	var moveLeft = 10;
	var moveDown = 10;
	var hoverElement = '';
	var divElement = '';
	var pairElement = ''; //pair for first graph - footprint and index
	var isGraphUp = 0;	//to check whether the hover is on upper graph or lower graph
	var pairA = '';	//for all attributes pairs across ABCD
	var pairB = ''; //for all attributes pairs across ABCD
	var pairC = ''; //for all attributes pairs across ABCD
	var pairD = ''; //for all attributes pairs across ABCD
	var pairIndex = ''; //for pair index of lower graph
	var attribute = ''; //co2, n2o, water, feed, mass etc
	var waterBit = 0; //whether the water bubble was hovered in lower graph. one hover has two indexes on
	var methaneBit = 0; //whether the methane bubble was hovered in lower graph. one hover has two indexes on

	$('g').hover(

		function mouseover(e) {

			var thisId = $(this).attr('id');
       
       var firstChar = thisId.charAt(0);
       //console.log(thisId);

       

      //character c for carbon footprint. linked with f
      if(firstChar == 'c'){
          hoverElement = thisId;  //unique name of the hovered over element
          attribute = hoverElement.slice(1);

          //divElement = 'up'+ attribute;  //the div for hovered over element with description 

          if(firstHoverUp == 0){
          	clearUp();
			firstHoverUp = 1;
          }

          pairElement = 'f' + attribute;

          isGraphUp = 1;
      }
      //////////////////////////////////
      ///charcter f for carcon footprint legend. linked with c
      if(firstChar == 'f'){
      	hoverElement = thisId;
      	attribute = hoverElement.slice(1);

      	divElement = 'up'+ attribute;

      	if(firstHoverUp == 0){
      		clearUp();
			firstHoverUp = 1;
      	}

      	pairElement = 'c' + attribute;

      	isGraphUp = 1;
      	}
      	////////////////////////////////////////
      	if(firstChar == 'A'){

	      	hoverElement = thisId;
	      	attribute = hoverElement.slice(1);

	      	divElement = 'down'+ attribute;

	      	if(firstHoverDown == 0){
	      		clearDown();
				firstHoverDown = 1;
	      	}

	      	pairA = 'A' + attribute;
	      	pairB = 'B' + attribute;
	      	pairC = 'C' + attribute;
	      	pairD = 'D' + attribute;

			if(attribute == 'Water'){
	      		waterBit = 1;
	      	}
	      	else if (attribute == 'Ch4'){
	      		methaneBit = 1;
	      	}
	      	else{
	      		pairIndex = 'w' + attribute;
	      	}

	      	isGraphUp = 0;

      	}

      	////////////////////////////////////////
      	if(firstChar == 'B'){

	      	hoverElement = thisId;
	      	attribute = hoverElement.slice(1);

	      	divElement = 'down'+ attribute;

	      	if(firstHoverDown == 0){
	      		clearDown();
				firstHoverDown = 1;
	      	}

	      	pairA = 'A' + attribute;
	      	pairB = 'B' + attribute;
	      	pairC = 'C' + attribute;
	      	pairD = 'D' + attribute;

	      	if(attribute == 'Water'){
	      		waterBit = 1;
	      	}
	      	else if (attribute == 'Ch4'){
	      		methaneBit = 1;
	      	}
	      	else{
	      		pairIndex = 'w' + attribute;
	      	}

	      	isGraphUp = 0;

      	}

      	////////////////////////////////////////
      	if(firstChar == 'C'){

	      	hoverElement = thisId;
	      	attribute = hoverElement.slice(1);

	      	divElement = 'down'+ attribute;

	      	if(firstHoverDown == 0){
	      		clearDown();
				firstHoverDown = 1;
	      	}

	      	pairA = 'A' + attribute;
	      	pairB = 'B' + attribute;
	      	pairC = 'C' + attribute;
	      	pairD = 'D' + attribute;

	      	if(attribute == 'Water'){
	      		waterBit = 1;
	      	}
	      	else if (attribute == 'Ch4'){
	      		methaneBit = 1;
	      	}
	      	else{
	      		pairIndex = 'w' + attribute;
	      	}

	      	isGraphUp = 0;

      	}

      	////////////////////////////////////////
      	if(firstChar == 'D'){

	      	hoverElement = thisId;
	      	attribute = hoverElement.slice(1);

	      	divElement = 'down'+ attribute;

	      	if(firstHoverDown == 0){
	      		clearDown();
				firstHoverDown = 1;
	      	}

	      	//for element handles for all four elements of same category
	      	pairA = 'A' + attribute;
	      	pairB = 'B' + attribute;
	      	pairC = 'C' + attribute;
	      	pairD = 'D' + attribute;

	      	//for element handle for logic to turn on respective index on hover
	      	if(attribute == 'Water'){
	      		waterBit = 1;
	      	}
	      	else if (attribute == 'Ch4'){
	      		methaneBit = 1;
	      	}
	      	else{
	      		pairIndex = 'w' + attribute;
	      	}

	      	isGraphUp = 0;

      	}

      	if(firstChar == 'w'){

      		hoverElement = thisId;
      		attribute = hoverElement.slice(1);

	      	if(firstHoverDown == 0){
	      		clearDown();
				firstHoverDown = 1;
	      	}

	      	if(attribute == 'Water1' || attribute == 'Water2'){
	      		//if(jQuery.inArray(hoverElement, MainArray) == -1){
	      			waterBit = 1;
	      		//}
	      		pairA = 'AWater';
		      	pairB = 'BWater';
		      	pairC = 'CWater';
		      	pairD = 'DWater';
		      	//divElement = 'downWater';
	      	}

	      	else if(attribute == 'Ch41' || attribute == 'Ch42'){
	      		methaneBit = 1;
	      		pairA = 'ACh4';
		      	pairB = 'BCh4';
		      	pairC = 'CCh4';
		      	pairD = 'DCh4';
		      	//divElement = 'downCh4';
	      	}
	      	else{
	      		pairA = 'A' + attribute;
		      	pairB = 'B' + attribute;
		      	pairC = 'C' + attribute;
		      	pairD = 'D' + attribute;
		      	//divElement = 'down'+ attribute;
	      	}

	      	isGraphUp = 0;

      	}
      //read the .stop(true,false) documentation at https://css-tricks.com/examples/jQueryStop/ for better control over mouse hover

      $('#'+ hoverElement).stop(true,false).velocity({'opacity': '1'});  //increase opacity to 100% for all hovered elements

      if(isGraphUp == 1){
      	$('#'+ pairElement).stop(true,false).velocity({'opacity': '1'});
      }

      if(isGraphUp == 0){
      	$('#'+ pairA).stop(true,false).velocity({'opacity': '1'});
      	$('#'+ pairB).stop(true,false).velocity({'opacity': '1'});
      	$('#'+ pairC).stop(true,false).velocity({'opacity': '1'});
      	$('#'+ pairD).stop(true,false).velocity({'opacity': '1'});

      	if(waterBit == 1){
      		$('#wWater1').stop(true,false).velocity({'opacity': '1'});
	      	$('#wWater2').stop(true,false).velocity({'opacity': '1'});
      	}
      	else if(methaneBit == 1){
      		$('#wCh41').stop(true,false).velocity({'opacity': '1'});
	      	$('#wCh42').stop(true,false).velocity({'opacity': '1'});
      	}
      	else{
      		$('#'+ pairIndex).stop(true,false).velocity({'opacity': '1'});
      	}
      }

      $('#'+ divElement).show();  //show the div element with the description

  },

  function mouseleave() {

  	if(jQuery.inArray(hoverElement, MainArray) == -1) //check to maintain 100% opacity for turned on events which are in the Main Array
    {
		$('#'+ hoverElement).stop(true,false).velocity({'opacity': '0.5'});

		if(isGraphUp == 1){
			$('#'+ pairElement).stop(true,false).velocity({'opacity': '0.5'});
		}

		if(isGraphUp == 0){
	      	$('#'+ pairA).stop(true,false).velocity({'opacity': '0.5'});
	      	$('#'+ pairB).stop(true,false).velocity({'opacity': '0.5'});
	      	$('#'+ pairC).stop(true,false).velocity({'opacity': '0.5'});
	      	$('#'+ pairD).stop(true,false).velocity({'opacity': '0.5'});

	      	
	      	if(jQuery.inArray(hoverElement, waterValidationArray) != -1){ 
	      	//important step to make sure that the following opacity decrease works only if the said hoverElement is in validation list.
	      	//Otherwise even if the element is turned on, it passes the upper if funtion check of whether element exists in the array.
	      	//since waterBit or methaneBit is unchanged, even with any other elements being hovered (waterBit==1) or (methaneBit==1) will appear true.
	      	//hence a validation check is required that whether element related to water/or methane(see below) is hovered.
	      		if(waterBit == 1){
		      		$('#wWater1').stop(true,false).velocity({'opacity': '0.5'});
			      	$('#wWater2').stop(true,false).velocity({'opacity': '0.5'});
			      	waterBit = 0;
		      }
	      	}
	      	else if(jQuery.inArray(hoverElement, ch4ValidationArray) != -1){ //see previous comment
	      		if(methaneBit == 1){
		      		$('#wCh41').stop(true,false).velocity({'opacity': '0.5'});
			      	$('#wCh42').stop(true,false).velocity({'opacity': '0.5'});
			      	methaneBit = 0;
	      		}
	      	}
	      	else{
	      		$('#'+ pairIndex).stop(true,false).velocity({'opacity': '0.5'});
	      	}
	     }
	 }

		$('#'+ divElement).hide(); //reduce opactiy to 40% for non-selected events

		hoverElement = '';
		divElement = '';
		pairElement = '';
		pairA = '';
		pairB = '';
		pairC = '';
		pairD = '';
		pairIndex = ''
		attribute = '';
	
	}
 );
//logic for the distance between cursor and the description within div
	$('g').mousemove(function(e) {
		$('#'+ divElement).css('top', e.pageY + moveDown).css('left', e.pageX + moveLeft);
	});

});


/////////////////////////////////////////

///////////////----------ALL CLICK EVENTS------------/////////////
$('#cWater').click(function (){
	if(upSwWater == 0){
		upSwWater = 1;
		$('#cWater').velocity({'opacity': '1'});
		$('#fWater').velocity({'opacity': '1'});

		MainArray.push("cWater");
		MainArray.push("fWater");
	}
	else{
		upSwWater = 0;
		$('#cWater').velocity({'opacity': '0.5'});
		$('#fWater').velocity({'opacity': '0.5'});
		
		var k;

		k = MainArray.indexOf("fWater");
		if(k != -1) {
			MainArray.splice(k, 1);
		}

		k = MainArray.indexOf("cWater");
		if(k != 1){
			MainArray.splice(k,1);
		}
	}
});

$('#cFeed').click(function (){
	if(upSwFeed == 0){
		upSwFeed = 1;
		$('#cFeed').velocity({'opacity': '1'});
		$('#fFeed').velocity({'opacity': '1'});

		MainArray.push("cFeed");
		MainArray.push("fFeed");
	}
	else{
		upSwFeed = 0;
		$('#cFeed').velocity({'opacity': '0.5'});
		$('#fFeed').velocity({'opacity': '0.5'});
		
		var k;

		k = MainArray.indexOf("fFeed");
		if(k != -1) {
			MainArray.splice(k, 1);
		}

		k = MainArray.indexOf("cFeed");
		if(k != 1){
			MainArray.splice(k,1);
		}
	}
});

$('#cPopu').click(function (){
	if(upSwPopu == 0){
		upSwPopu = 1;
		$('#cPopu').velocity({'opacity': '1'});
		$('#fPopu').velocity({'opacity': '1'});

		MainArray.push("cPopu");
		MainArray.push("fPopu");
	}
	else{
		upSwPopu = 0;
		$('#cPopu').velocity({'opacity': '0.5'});
		$('#fPopu').velocity({'opacity': '0.5'});
		
		var k;

		k = MainArray.indexOf("cPopu");
		if(k != -1) {
			MainArray.splice(k, 1);
		}

		k = MainArray.indexOf("fPopu");
		if(k != 1){
			MainArray.splice(k,1);
		}
	}
});

$('#cMass').click(function (){
	if(upSwMass == 0){
		upSwMass = 1;
		$('#cMass').velocity({'opacity': '1'});
		$('#fMass').velocity({'opacity': '1'});

		MainArray.push("cMass");
		MainArray.push("fMass");
	}
	else{
		upSwMass = 0;
		$('#cMass').velocity({'opacity': '0.5'});
		$('#fMass').velocity({'opacity': '0.5'});
		
		var k;

		k = MainArray.indexOf("cMass");
		if(k != -1) {
			MainArray.splice(k, 1);
		}

		k = MainArray.indexOf("fMass");
		if(k != 1){
			MainArray.splice(k,1);
		}
	}
});

$('#cN2o').click(function (){
	if(upSwN2o == 0){
		upSwN2o = 1;
		$('#cN2o').velocity({'opacity': '1'});
		$('#fN2o').velocity({'opacity': '1'});

		MainArray.push("cN2o");
		MainArray.push("fN2o");
	}
	else{
		upSwN2o = 0;
		$('#cN2o').velocity({'opacity': '0.5'});
		$('#fN2o').velocity({'opacity': '0.5'});
		
		var k;

		k = MainArray.indexOf("cN2o");
		if(k != -1) {
			MainArray.splice(k, 1);
		}

		k = MainArray.indexOf("fN2o");
		if(k != 1){
			MainArray.splice(k,1);
		}
	}
});

$('#cCh4').click(function (){
	if(upSwCh4 == 0){
		upSwCh4 = 1;
		$('#cCh4').velocity({'opacity': '1'});
		$('#fCh4').velocity({'opacity': '1'});

		MainArray.push("cCh4");
		MainArray.push("fCh4");
	}
	else{
		upSwCh4 = 0;
		$('#cCh4').velocity({'opacity': '0.5'});
		$('#fCh4').velocity({'opacity': '0.5'});
		
		var k;

		k = MainArray.indexOf("cCh4");
		if(k != -1) {
			MainArray.splice(k, 1);
		}

		k = MainArray.indexOf("fCh4");
		if(k != 1){
			MainArray.splice(k,1);
		}
	}
});

$('#cCo2').click(function (){
	if(upSwCo2 == 0){
		upSwCo2 = 1;
		$('#cCo2').velocity({'opacity': '1'});
		$('#fCo2').velocity({'opacity': '1'});

		MainArray.push("cCo2");
		MainArray.push("fCo2");
	}
	else{
		upSwCo2 = 0;
		$('#cCo2').velocity({'opacity': '0.5'});
		$('#fCo2').velocity({'opacity': '0.5'});
		
		var k;

		k = MainArray.indexOf("cCo2");
		if(k != -1) {
			MainArray.splice(k, 1);
		}

		k = MainArray.indexOf("fCo2");
		if(k != 1){
			MainArray.splice(k,1);
		}
	}
});

$('#cNitro').click(function (){
	if(upSwNitro == 0){
		upSwNitro = 1;
		$('#cNitro').velocity({'opacity': '1'});
		$('#fNitro').velocity({'opacity': '1'});

		MainArray.push("cNitro");
		MainArray.push("fNitro");
	}
	else{
		upSwNitro = 0;
		$('#cNitro').velocity({'opacity': '0.5'});
		$('#fNitro').velocity({'opacity': '0.5'});
		
		var k;

		k = MainArray.indexOf("cNitro");
		if(k != -1) {
			MainArray.splice(k, 1);
		}

		k = MainArray.indexOf("fNitro");
		if(k != 1){
			MainArray.splice(k,1);
		}
	}
});

$('#cPhos').click(function (){
	if(upSwPhos == 0){
		upSwPhos = 1;
		$('#cPhos').velocity({'opacity': '1'});
		$('#fPhos').velocity({'opacity': '1'});

		MainArray.push("cPhos");
		MainArray.push("fPhos");
	}
	else{
		upSwPhos = 0;
		$('#cPhos').velocity({'opacity': '0.5'});
		$('#fPhos').velocity({'opacity': '0.5'});
		
		var k;

		k = MainArray.indexOf("cPhos");
		if(k != -1) {
			MainArray.splice(k, 1);
		}

		k = MainArray.indexOf("fPhos");
		if(k != 1){
			MainArray.splice(k,1);
		}
	}
});

$('#cProtein').click(function (){
	if(upSwProtein == 0){
		upSwProtein = 1;
		$('#cProtein').velocity({'opacity': '1'});
		$('#fProtein').velocity({'opacity': '1'});

		MainArray.push("cProtein");
		MainArray.push("fProtein");
	}
	else{
		upSwProtein = 0;
		$('#cProtein').velocity({'opacity': '0.5'});
		$('#fProtein').velocity({'opacity': '0.5'});
		
		var k;

		k = MainArray.indexOf("cProtein");
		if(k != -1) {
			MainArray.splice(k, 1);
		}

		k = MainArray.indexOf("fProtein");
		if(k != 1){
			MainArray.splice(k,1);
		}
	}
});

///--------------------CLICK FUNCTIONS FOR LOWER GRAPH----------------------

$('#wWater1').click(function (){
	if(downSwWater == 0){
		downSwWater = 1;
		$('#wWater1').velocity({'opacity': '1'});
		$('#wWater2').velocity({'opacity': '1'});
		clickTurnOnLowerGraph('Water');

		MainArray.push("wWater1");
		MainArray.push("wWater2");

		MainArray = $.merge( $.merge( [], MainArray ), waterArray);
		MainArray = $.unique(MainArray);

		//console.log('water 1 switch on [' + downSwWater + '] switch on = 1');
		//console.log(MainArray);
	}

	else{
		downSwWater = 0;
		$('#wWater1').velocity({'opacity': '0.5'});
		$('#wWater2').velocity({'opacity': '0.5'});
		clickTurnOffLowerGraph('Water');
		
		var k;

		k = MainArray.indexOf("wWater1");
		if(k != -1) {
			MainArray.splice(k, 1);
		}

		k = MainArray.indexOf("wWater2");
		if(k != -1) {
			MainArray.splice(k, 1);
		}

		MainArray = MainArray.filter( function ( elem ) {
	    		return waterArray.indexOf( elem ) === -1;
			});
		MainArray = $.unique(MainArray);

		//console.log('water 1 switch off [' + downSwWater + '] switch on = 0');
		//console.log(MainArray);
	}
});

$('#wWater2').click(function (){
	if(downSwWater == 0){
		downSwWater = 1;
		$('#wWater1').velocity({'opacity': '1'});
		$('#wWater2').velocity({'opacity': '1'});
		clickTurnOnLowerGraph('Water');

		MainArray.push("wWater1");
		MainArray.push("wWater2");

		MainArray = $.merge( $.merge( [], MainArray ), waterArray);
		MainArray = $.unique(MainArray);

		//console.log('water 2 switch on [' + downSwWater + '] switch on = 1');
		//console.log(MainArray);
	}

	else{
		downSwWater = 0;
		$('#wWater1').velocity({'opacity': '0.5'});
		$('#wWater2').velocity({'opacity': '0.5'});
		clickTurnOffLowerGraph('Water');
		
		var k;

		k = MainArray.indexOf("wWater1");
		if(k != -1) {
			MainArray.splice(k, 1);
		}

		k = MainArray.indexOf("wWater2");
		if(k != -1) {
			MainArray.splice(k, 1);
		}

		MainArray = MainArray.filter( function ( elem ) {
	    		return waterArray.indexOf( elem ) === -1;
			});
		MainArray = $.unique(MainArray);

		//console.log('water 2 switch off [' + downSwWater + '] switch on = 0');
		//console.log(MainArray);
	}
});

$('#wFeed').click(function (){
	if(downSwFeed == 0){
		downSwFeed = 1;
		$('#wFeed').velocity({'opacity': '1'});
		clickTurnOnLowerGraph('Feed');

		MainArray.push("wFeed");
		MainArray = $.merge( $.merge( [], MainArray ), feedArray);
		MainArray = $.unique(MainArray);

	}
	else{
		downSwFeed = 0;
		$('#wFeed').velocity({'opacity': '0.5'});
		clickTurnOffLowerGraph('Feed');
		
		var k;

		k = MainArray.indexOf("wFeed");
		if(k != -1) {
			MainArray.splice(k, 1);
		}

		MainArray = MainArray.filter( function ( elem ) {
	    		return feedArray.indexOf( elem ) === -1;
			});
		MainArray = $.unique(MainArray);
	}
});

$('#wPopu').click(function (){
	if(downSwPopu == 0){
		downSwPopu = 1;
		$('#wPopu').velocity({'opacity': '1'});
		clickTurnOnLowerGraph('Popu');

		MainArray.push("wPopu");
		MainArray = $.merge( $.merge( [], MainArray ), popuArray);
		MainArray = $.unique(MainArray);

	}
	else{
		downSwPopu = 0;
		$('#wPopu').velocity({'opacity': '0.5'});
		clickTurnOffLowerGraph('Popu');
		
		var k;

		k = MainArray.indexOf("wPopu");
		if(k != -1) {
			MainArray.splice(k, 1);
		}

		MainArray = MainArray.filter( function ( elem ) {
	    		return popuArray.indexOf( elem ) === -1;
			});
		MainArray = $.unique(MainArray);
	}
});

$('#wMass').click(function (){
	if(downSwMass == 0){
		downSwMass = 1;
		$('#wMass').velocity({'opacity': '1'});
		clickTurnOnLowerGraph('Mass');

		MainArray.push("wMass");
		MainArray.push("AMass");
		MainArray = $.merge( $.merge( [], MainArray ), massArray);
		MainArray = $.unique(MainArray);

	}
	else{
		downSwMass = 0;
		$('#wMass').velocity({'opacity': '0.5'});
		clickTurnOffLowerGraph('Mass');
		
		var k;

		k = MainArray.indexOf("wMass");
		if(k != -1) {
			MainArray.splice(k, 1);
		}

		k = MainArray.indexOf("AMass");
		if(k != -1) {
			MainArray.splice(k, 1);
		}

		MainArray = MainArray.filter( function ( elem ) {
	    		return massArray.indexOf( elem ) === -1;
			});
		MainArray = $.unique(MainArray);
	}
});

$('#wN2o').click(function (){
	if(downSwN2o == 0){
		downSwN2o = 1;
		$('#wN2o').velocity({'opacity': '1'});
		clickTurnOnLowerGraph('N2o');

		MainArray.push("wN2o");
		MainArray = $.merge( $.merge( [], MainArray ), n2oArray);
		MainArray = $.unique(MainArray);

	}
	else{
		downSwN2o = 0;
		$('#wN2o').velocity({'opacity': '0.5'});
		clickTurnOffLowerGraph('N2o');
		
		var k;

		k = MainArray.indexOf("wN2o");
		if(k != -1) {
			MainArray.splice(k, 1);
		}

		MainArray = MainArray.filter( function ( elem ) {
	    		return n2oArray.indexOf( elem ) === -1;
			});
		MainArray = $.unique(MainArray);
	}
});

$('#wCh41').click(function (){
	if(downSwCh4 == 0){
		downSwCh4 = 1;
		$('#wCh41').velocity({'opacity': '1'});
		$('#wCh42').velocity({'opacity': '1'});
		clickTurnOnLowerGraph('Ch4');

		MainArray.push("wCh41");
		MainArray.push("wCh42");

		MainArray = $.merge( $.merge( [], MainArray ), ch4Array);
		MainArray = $.unique(MainArray);
	}

	else{
		downSwCh4 = 0;
		$('#wCh41').velocity({'opacity': '0.5'});
		clickTurnOffLowerGraph('Ch4');
		
		var k;

		k = MainArray.indexOf("wCh41");
		if(k != -1) {
			MainArray.splice(k, 1);
		}

		k = MainArray.indexOf("wCh42");
		if(k != -1) {
			MainArray.splice(k, 1);
		}

		MainArray = MainArray.filter( function ( elem ) {
	    		return ch4Array.indexOf( elem ) === -1;
			});
		MainArray = $.unique(MainArray);
	}
});

$('#wCh42').click(function (){
	if(downSwCh4 == 0){
		downSwCh4 = 1;
		$('#wCh41').velocity({'opacity': '1'});
		$('#wCh42').velocity({'opacity': '1'});
		clickTurnOnLowerGraph('Ch4');

		MainArray.push("wCh41");
		MainArray.push("wCh42");

		MainArray = $.merge( $.merge( [], MainArray ), ch4Array);
		MainArray = $.unique(MainArray);
	}

	else{
		downSwCh4 = 0;
		$('#wCh41').velocity({'opacity': '0.5'});
		clickTurnOffLowerGraph('Ch4');
		
		var k;

		k = MainArray.indexOf("wCh41");
		if(k != -1) {
			MainArray.splice(k, 1);
		}

		k = MainArray.indexOf("wCh42");
		if(k != -1) {
			MainArray.splice(k, 1);
		}

		MainArray = MainArray.filter( function ( elem ) {
	    		return ch4Array.indexOf( elem ) === -1;
			});
		MainArray = $.unique(MainArray);
	}
});

$('#wCo2').click(function (){
	if(downSwCo2 == 0){
		downSwCo2 = 1;
		$('#wCo2').velocity({'opacity': '1'});
		clickTurnOnLowerGraph('Co2');

		MainArray.push("wCo2");
		MainArray = $.merge( $.merge( [], MainArray ), co2Array);
		MainArray = $.unique(MainArray);

	}
	else{
		downSwCo2 = 0;
		$('#wCo2').velocity({'opacity': '0.5'});
		clickTurnOffLowerGraph('Co2');
		
		var k;

		k = MainArray.indexOf("wCo2");
		if(k != -1) {
			MainArray.splice(k, 1);
		}

		MainArray = MainArray.filter( function ( elem ) {
	    		return co2Array.indexOf( elem ) === -1;
			});
		MainArray = $.unique(MainArray);
	}
});

$('#wNitro').click(function (){
	if(downSwNitro == 0){
		downSwNitro = 1;
		$('#wNitro').velocity({'opacity': '1'});
		clickTurnOnLowerGraph('Nitro');

		MainArray.push("wNitro");
		MainArray = $.merge( $.merge( [], MainArray ), nitroArray);
		MainArray = $.unique(MainArray);

	}
	else{
		downSwNitro = 0;
		$('#wNitro').velocity({'opacity': '0.5'});
		clickTurnOffLowerGraph('Nitro');
		
		var k;

		k = MainArray.indexOf("wNitro");
		if(k != -1) {
			MainArray.splice(k, 1);
		}

		MainArray = MainArray.filter( function ( elem ) {
	    		return nitroArray.indexOf( elem ) === -1;
			});
		MainArray = $.unique(MainArray);
	}
});

$('#wPhos').click(function (){
	if(downSwPhos == 0){
		downSwPhos = 1;
		$('#wPhos').velocity({'opacity': '1'});
		clickTurnOnLowerGraph('Phos');

		MainArray.push("wPhos");
		MainArray = $.merge( $.merge( [], MainArray ), phosArray);
		MainArray = $.unique(MainArray);

	}
	else{
		downSwPhos = 0;
		$('#wPhos').velocity({'opacity': '0.5'});
		clickTurnOffLowerGraph('Phos');
		
		var k;

		k = MainArray.indexOf("wPhos");
		if(k != -1) {
			MainArray.splice(k, 1);
		}

		MainArray = MainArray.filter( function ( elem ) {
	    		return phosArray.indexOf( elem ) === -1;
			});
		MainArray = $.unique(MainArray);
	}
});

$('#wProtein').click(function (){
	if(downSwProtein == 0){
		downSwProtein = 1;
		$('#wProtein').velocity({'opacity': '1'});
		clickTurnOnLowerGraph('Protein');

		MainArray.push("wProtein");
		MainArray = $.merge( $.merge( [], MainArray ), proteinArray);
		MainArray = $.unique(MainArray);

	}
	else{
		downSwProtein = 0;
		$('#wProtein').velocity({'opacity': '0.5'});
		clickTurnOffLowerGraph('Protein');
		
		var k;

		k = MainArray.indexOf("wProtein");
		if(k != -1) {
			MainArray.splice(k, 1);
		}

		MainArray = MainArray.filter( function ( elem ) {
	    		return proteinArray.indexOf( elem ) === -1;
			});
		MainArray = $.unique(MainArray);
	}
});


/////////////////////////////////////////////
});


</script>




</head>



<body style="margin:0; padding:0; background:#ffffff;">
<!-- HIDDEN / POP-UP DIV -->

<!--descriptions for upper graph-->

<div id="upWater">
	<u>Water Requirement:</u>
	<table style="width:100%; white-space: nowrap;">
		<tr>
			<td>Cattle: 60.5%</td>
			<td>· Sheep &amp; Goat: 16.2%</td>
		</tr>
		<tr>
			<td>Pig: 19.4%</td>
			<td>· Chicken: 3.9%</td>
		</tr>
	</table>
</div>

<div id="upFeed">
	<u>Feed Requirement:</u>
	<table style="width:100%; white-space: nowrap;">
		<tr>
			<td>Cattle: 46.1%</td>
			<td>· Sheep &amp; Goat: 26.7%</td>
		</tr>
		<tr>
			<td>Pig: 16.8%</td>
			<td>· Chicken: 10.4%</td>
		</tr>
	</table>
</div>

<div id="upProtein">
	<u>Protein Conversion Inefficiency:</u>
	<table style="width:100%; white-space: nowrap;">
		<tr>
			<td>Cattle: 45.1%</td>
			<td>· Sheep &amp; Goat: 27.8%</td>
		</tr>
		<tr>
			<td>Pig: 18.1%</td>
			<td>· Chicken: 9%</td>
		</tr>
	</table>
</div>

<div id="upNitro">
	<u>Nitrogen Output:</u>
	<table style="width:100%; white-space: nowrap;">
		<tr>
			<td>Cattle: 79%</td>
			<td>· Sheep &amp; Goat: 12.2%</td>
		</tr>
		<tr>
			<td>Pig: 8.5%</td>
			<td>· Chicken: 0.3%</td>
		</tr>
	</table>
</div>

<div id="upPhos">
	<u>Phosphorus Output:</u>
	<table style="width:100%; white-space: nowrap;">
		<tr>
			<td>Cattle: 73.2%</td>
			<td>· Sheep &amp; Goat: 15.4%</td>
		</tr>
		<tr>
			<td>Pig: 11%</td>
			<td>· Chicken: 0.4%</td>
		</tr>
	</table>
</div>

<div id="upCo2">
	<u>CO2 Released:</u>
	<table style="width:100%; white-space: nowrap;">
		<tr>
			<td>Cattle: 62.1%</td>
			<td>· Sheep &amp; Goat: 16.7%</td>
		</tr>
		<tr>
			<td>Pig: 19.2%</td>
			<td>· Chicken: 2%</td>
		</tr>
	</table>
</div>

<div id="upCh4">
	<u>CH4 Released:</u>
	<table style="width:100%; white-space: nowrap;">
		<tr>
			<td>Cattle: 80.4%</td>
			<td>· Sheep &amp; Goat: 9.5%</td>
		</tr>
		<tr>
			<td>Pig: 9.2%</td>
			<td>· Chicken: 0.9%</td>
		</tr>
	</table>
</div>

<div id="upN2o">
	<u>N2O Released:</u>
	<table style="width:100%; white-space: nowrap;">
		<tr>
			<td>Cattle: 60%</td>
			<td>· Sheep &amp; Goat: 18.4%</td>
		</tr>
		<tr>
			<td>Pig: 11.9%</td>
			<td>· Chicken: 9.7%</td>
		</tr>
	</table>
</div>

<div id="upMass">
	<u>Biomass Ratio:</u>
	<table style="width:100%; white-space: nowrap;">
		<tr>
			<td>Cattle: 74.3%</td>
			<td>· Sheep &amp; Goat: 7%</td>
		</tr>
		<tr>
			<td>Pig: 13.8%</td>
			<td>· Chicken: 4.9%</td>
		</tr>
	</table>
</div>

<div id="upPopu">
	<u>Population Ratio:</u>
	<table style="width:100%; white-space: nowrap;">
		<tr>
			<td>Cattle: 6.9%</td>
			<td>· Sheep &amp; Goat: 8.2%</td>
		</tr>
		<tr>
			<td>Pig: 4.3%</td>
			<td>· Chicken: 80.5%</td>
		</tr>
	</table>
</div>


<!--////////////////////////////////////////

descriptions for lower graph

////////////////////////////////////////-->


<div id="downWater">
	<u>Water Consumption in km3:</u>
	<table style="width:100%; white-space: nowrap;">
		<tr>
			<td>Cattle: 15.1</td>
			<td>· Sheep &amp; Goat: 4.03</td>
		</tr>
		<tr>
			<td>Pig: 4.85</td>
			<td>· Chicken: 0.98</td>
		</tr>
	</table>
</div>

<div id="downFeed">
	<u>Feed Consumption Ratio:</u>
	<table style="width:100%; white-space: nowrap;">
		<tr>
			<td>Cattle: 20</td>
			<td>· Sheep &amp; Goat: 11.6</td>
		</tr>
		<tr>
			<td>Pig: 7.3</td>
			<td>· Chicken: 4.5</td>
		</tr>
	</table>
</div>

<div id="downProtein">
	<u>Protein Conversion Inefficiency:</u>
	<table style="width:100%; white-space: nowrap;">
		<tr>
			<td>Cattle: 25</td>
			<td>· Sheep &amp; Goat: 15.38</td>
		</tr>
		<tr>
			<td>Pig: 10</td>
			<td>· Chicken: 5</td>
		</tr>
	</table>
</div>

<div id="downNitro">
	<u>Nitrogen Output (Kg):</u>
	<table style="width:100%; white-space: nowrap;">
		<tr>
			<td>Cattle: 129.6</td>
			<td>· Sheep &amp; Goat: 20</td>
		</tr>
		<tr>
			<td>Pig: 14</td>
			<td>· Chicken: 0.5</td>
		</tr>
	</table>
</div>

<div id="downPhos">
	<u>Phosphorus Output (Kg):</u>
	<table style="width:100%; white-space: nowrap;">
		<tr>
			<td>Cattle: 16.7</td>
			<td>· Sheep &amp; Goat: 3.5</td>
		</tr>
		<tr>
			<td>Pig: 2.5</td>
			<td>· Chicken: 0.1</td>
		</tr>
	</table>
</div>

<div id="downCo2">
	<u>CO2 Released (Million Tonnes):</u>
	<table style="width:100%; white-space: nowrap;">
		<tr>
			<td>Cattle: 1906</td>
			<td>· Sheep &amp; Goat: 514</td>
		</tr>
		<tr>
			<td>Pig: 590</td>
			<td>· Chicken: 61</td>
		</tr>
	</table>
</div>

<div id="downCh4">
	<u>CH4 Released (Million Tonnes):</u>
	<table style="width:100%; white-space: nowrap;">
		<tr>
			<td>Cattle: 82.91</td>
			<td>· Sheep &amp; Goat: 9.78</td>
		</tr>
		<tr>
			<td>Pig: 9.49</td>
			<td>· Chicken: 0.98</td>
		</tr>
	</table>
</div>

<div id="downN2o">
	<u>N2O Released (Million Tonnes):</u>
	<table style="width:100%; white-space: nowrap;">
		<tr>
			<td>Cattle: 2.22</td>
			<td>· Sheep &amp; Goat: 0.68</td>
		</tr>
		<tr>
			<td>Pig: 0.44</td>
			<td>· Chicken: 0.36</td>
		</tr>
	</table>
</div>

<div id="downMass">
	<u>Total Biomass (Million Tonnes):</u>
	<table style="width:100%; white-space: nowrap;">
		<tr>
			<td>Cattle: 501</td>
			<td>· Sheep &amp; Goat: 47.3</td>
		</tr>
		<tr>
			<td>Pig: 92.8</td>
			<td>· Chicken: 33</td>
		</tr>
	</table>
</div>

<div id="downPopu">
	<u>Total Population (Million):</u>
	<table style="width:100%; white-space: nowrap;">
		<tr>
			<td>Cattle: 1496</td>
			<td>· Sheep &amp; Goat: 1784</td>
		</tr>
		<tr>
			<td>Pig: 933</td>
			<td>· Chicken: 17437</td>
		</tr>
	</table>
</div>

</body>

</html>
